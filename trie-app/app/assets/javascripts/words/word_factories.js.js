// Generated by CoffeeScript 1.8.0
var Trie, Word, WordFactories;

WordFactories = angular.module("WordFactories", []);

Trie = (function() {
  function Trie() {}

  Trie = function() {};

  Trie.characters = {};

  Trie.prototype.learn = function(word, index) {
    var char, subTrie;
    index = index || 0;
    if (index === word.length) {
      this.isWord = true;
    } else if (index < word.length) {
      char = word[index];
      subTrie = this.characters[char] || new Trie();
      subTrie.learn(word, index + 1);
      this.characters[char] = subTrie;
    }
    return this;
  };

  return Trie;

})();

Word = (function() {
  function Word(http) {
    this.http = http;
  }

  Word.prototype.all = function() {
    return this.http.get("/words.json");
  };

  Word.prototype.create = function(newWord) {
    return this.http.post("/words.json", {
      word: newWord
    });
  };

  return Word;

})();

WordFactories.factory("Word", [
  "$http", function($http) {
    return new Word($http);
  }
]);

WordFactories.service("Trie", [Trie]);
